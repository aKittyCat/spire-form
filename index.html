<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>D&D Character ‚Äì Discord Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="color-scheme" content="dark" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              fantasy: {
                bg: "#0B1220",
                panel: "#111827",
                border: "#283447",
                gold: "#D4AF37",
                accent: "#8B5CF6",
              },
            },
          },
        },
      };
    </script>
    <style>
      input[type="text"], input[type="number"], textarea {
        font-size: 16px;
      }
      /* ‡∏ã‡πà‡∏≠‡∏ô‡∏•‡∏π‡∏Å‡∏®‡∏£‡∏ö‡∏ô Chrome, Edge, Safari */
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      /* ‡∏ã‡πà‡∏≠‡∏ô‡∏•‡∏π‡∏Å‡∏®‡∏£‡∏ö‡∏ô Firefox */
      input[type="number"] {
        -moz-appearance: textfield;
      }
      .stat-input-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 2px;
      }
      .stat-btn {
        background-color: #1e293b;
        color: #e2e8f0;
        border: 1px solid #334155;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        cursor: pointer;
        border-radius: 6px;
        user-select: none;
        transition: all 0.2s;
      }
      .stat-btn:hover {
        background-color: #334155;
        border-color: #475569;
      }
      .stat-btn:active {
        transform: scale(0.95);
      }
      .stat-btn:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
      }
      .stat-value {
        width: 40px;
        text-align: center;
        margin: 0;
      }
    </style>
  </head>
  <body class="bg-fantasy-bg text-gray-100 min-h-screen">
    <div class="max-w-5xl mx-auto px-4 py-8">
      <header class="mb-6">
        <h1 class="text-2xl md:text-3xl font-bold tracking-tight">
          üßô‚Äç‚ôÇÔ∏è ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ D&D 5e 2014
        </h1>
        <p class="text-gray-300 mt-2">
          ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î
          <span class="font-semibold text-fantasy-gold">Generate</span>
          ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏° Template
        </p>
      </header>

      <!-- Input URL -->
      <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg mb-6">
        <div class="flex flex-col gap-3">
          <label class="block">
            <span class="text-sm text-gray-300">‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå D&D Beyond ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</span>
            <input
              type="text"
              id="characterUrl"
              placeholder="https://www.dndbeyond.com/characters/150031282"
              class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent"
            />
          </label>
          <button
            onclick="fetchCharacter()"
            id="fetchBtn"
            class="px-6 py-2 bg-fantasy-accent rounded-xl font-medium hover:opacity-90 transition"
          >
            ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå
          </button>
        </div>
        <div id="loading" class="hidden flex items-center mt-3">
          <div class="w-5 h-5 border-4 border-t-purple-400 border-gray-700 rounded-full animate-spin mr-2"></div>
          <span class="text-sm text-gray-300">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</span>
        </div>
        <p class="text-xs text-red-400 mt-2">
          ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢
        </p>
      </section>

      <!-- Info Card -->
      <section
        class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg mb-6"
      >
        <div class="flex items-center gap-2 mb-3">
          <div class="h-2 w-2 rounded-full bg-fantasy-gold"></div>
          <h2 class="text-lg font-semibold">
            üìå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• / ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
          </h2>
        </div>
        <ol class="list-decimal list-inside space-y-2 text-gray-200">
          <li>
            ‡∏ó‡∏≥‡∏™‡∏≥‡πÄ‡∏ô‡∏≤
            <a
              href="https://docs.google.com/spreadsheets/d/1dvQ9WB0muYBLnrZqVhT9YRBcgpCXGQlBwR1rMwuqg6s/"
              target="_blank"
              class="font-medium text-blue-600 underline dark:text-blue-500 hover:no-underline"
              >Character Tracking Sheet</a
            >
            ‡πÑ‡∏ß‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å session/‡πÄ‡∏•‡πÄ‡∏ß‡∏•
          </li>
          <li>
            ‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 3, ‡πÉ‡∏ä‡πâ <b>35 point buy</b> ‡πÅ‡∏•‡∏∞ <b>Fixed HP</b>
            <a
              href="https://chicken-dinner.com/5e/5e-point-buy.html#select&NA&8&8&8&8&8&8&0&0&35&18&8&19&15&12&9&7&5&4&3&2&1&0&1&2&4&6&9&4&4&4&4&4&4"
              target="_blank"
              class="font-medium text-blue-600 underline dark:text-blue-500 hover:no-underline"
              >‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ</a
            >
            <span
              class="ml-1 inline-block rounded-md bg-red-600/20 px-2 py-0.5 text-red-300 text-sm font-semibold"
              >‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ú‡πà‡∏≤‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å stat</span
            >
          </li>
          <li>
            ‡πÄ‡∏ß‡πá‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£: <b>DnD Beyond</b> / <b>Dicecloud</b> /
            <b>G-sheet</b> (‡∏ñ‡πâ‡∏≤‡πÄ‡∏ú‡πà‡∏≤‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡∏à‡∏≤‡∏Å‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏•‡πà‡∏°
            ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠)
          </li>
          <li>‡∏•‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏™‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î</li>
          <li>
            ‡∏ï‡∏£‡∏ß‡∏à‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏î‡πâ ‚úÖ ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á <b>roles</b> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <b>@Tier 1 (lvl 3-4)</b>
          </li>
          <li>
            <span
              class="ml-1 inline-block rounded-md bg-red-600/20 px-2 py-0.5 text-red-300 text-sm font-semibold"
              >‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ Alignment Evil ‡πÑ‡∏î‡πâ</span
            >
          </li>
          <li>
            <span
              class="ml-1 inline-block rounded-md bg-red-600/20 px-2 py-0.5 text-red-300 text-sm font-semibold"
              >‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏µ 2024
              ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ</span
            >
          </li>
        </ol>
      </section>

      <form id="charForm" class="space-y-6">
        <!-- Basics -->
        <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg">
          <h3 class="text-lg font-semibold mb-4">üßæ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <label class="block">
              <span class="text-sm text-gray-300">‡∏ä‡∏∑‡πà‡∏≠</span>
              <input type="text" id="name" required class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Arannis, Lyra" />
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">‡∏Ñ‡∏•‡∏≤‡∏™‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πÄ‡∏ß‡∏• 3)</span>
              <input type="text" id="primaryClass" required class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Fighter Level 3" />
            </label>
            <label class="block md:col-span-2">
              <span class="text-sm text-gray-300">‡∏Ñ‡∏•‡∏≤‡∏™‡∏£‡∏≠‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
              <input type="text" id="multiclass" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="sub-class ‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏¢‡∏ô‡∏±‡πâ‡∏±‡∏ô‡πÜ (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á)" />
            </label>
          </div>

          <div class="grid md:grid-cols-2 gap-4 mt-4">
            <label class="block">
              <span class="text-sm text-gray-300">‡πÄ‡∏ú‡πà‡∏≤ & ASI Bonus ‡∏à‡∏≤‡∏Å‡πÄ‡∏ú‡πà‡∏≤ <span style="color: #cc10cc;">*‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Variant Human (STR +1) (WIS +1)</span>
              <textarea id="raceAsi" rows="3" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ú‡πà‡∏≤‡∏¢‡πà‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡πÄ‡∏ú‡πà‡∏≤‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏•‡πà‡∏°‡πÑ‡∏´‡∏ô ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: Variant Human (STR +1) (WIS +1)"></textarea>
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">Custom Lineage Trait</span>
              <textarea id="customLineage" rows="3" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Size Medium / Darkvision 60 ft."></textarea>
            </label>
          </div>

          <div class="grid md:grid-cols-3 gap-4 mt-4">
            <label class="block md:col-span-3">
              <span class="text-sm text-gray-300">Background</span>
              <input type="text" id="background" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Soldier, Sage"/>
            </label>
          </div>
        </section>

        <!-- Stats -->
        <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg">
          <div class="flex flex-col-reverse md:flex-row md:items-center justify-between gap-4">
            <h3 class="text-lg font-semibold">üìä ‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏° Bonus) ‚Äî 35 Point Buy, Fixed HP</h3>
            <div class="flex items-center justify-end gap-2">
              <span class="text-xs text-red-400">*‡πÉ‡∏™‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡πà‡∏≤ Base</span>
            </div>
          </div>
          <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-3 mt-4">
            <div class="flex flex-col items-center">
              <label class="text-sm text-gray-300">STR</label>
              <div class="stat-input-container">
                <button type="button" class="stat-btn" onclick="decreaseStat('str')">‚àí</button>
                <input id="str" type="text" readonly value="8" class="mt-1 stat-value bg-[#0f172a] border border-fantasy-border text-center" />
                <button type="button" class="stat-btn" onclick="increaseStat('str')">+</button>
              </div>
            </div>
            <div class="flex flex-col items-center">
              <label class="text-sm text-gray-300">DEX</label>
              <div class="stat-input-container">
                <button type="button" class="stat-btn" onclick="decreaseStat('dex')">‚àí</button>
                <input id="dex" type="text" readonly value="8" class="mt-1 stat-value bg-[#0f172a] border border-fantasy-border text-center" />
                <button type="button" class="stat-btn" onclick="increaseStat('dex')">+</button>
              </div>
            </div>
            <div class="flex flex-col items-center">
              <label class="text-sm text-gray-300">CON</label>
              <div class="stat-input-container">
                <button type="button" class="stat-btn" onclick="decreaseStat('con')">‚àí</button>
                <input id="con" type="text" readonly value="8" class="mt-1 stat-value bg-[#0f172a] border border-fantasy-border text-center" />
                <button type="button" class="stat-btn" onclick="increaseStat('con')">+</button>
              </div>
            </div>
            <div class="flex flex-col items-center">
              <label class="text-sm text-gray-300">INT</label>
              <div class="stat-input-container">
                <button type="button" class="stat-btn" onclick="decreaseStat('int')">‚àí</button>
                <input id="int" type="text" readonly value="8" class="mt-1 stat-value bg-[#0f172a] border border-fantasy-border text-center" />
                <button type="button" class="stat-btn" onclick="increaseStat('int')">+</button>
              </div>
            </div>
            <div class="flex flex-col items-center">
              <label class="text-sm text-gray-300">WIS</label>
              <div class="stat-input-container">
                <button type="button" class="stat-btn" onclick="decreaseStat('wis')">‚àí</button>
                <input id="wis" type="text" readonly value="8" class="mt-1 stat-value bg-[#0f172a] border border-fantasy-border text-center" />
                <button type="button" class="stat-btn" onclick="increaseStat('wis')">+</button>
              </div>
            </div>
            <div class="flex flex-col items-center">
              <label class="text-sm text-gray-300">CHA</label>
              <div class="stat-input-container">
                <button type="button" class="stat-btn" onclick="decreaseStat('cha')">‚àí</button>
                <input id="cha" type="text" readonly value="8" class="mt-1 stat-value bg-[#0f172a] border border-fantasy-border text-center" />
                <button type="button" class="stat-btn" onclick="increaseStat('cha')">+</button>
              </div>
            </div>
          </div>
          <div class="flex flex-wrap items-center justify-end gap-2 mt-4">
            <span id="totalPoints" class="text-sm font-mono px-2 py-1 rounded">Total Points: 0/35</span>
            <button
              type="button"
              id="resetStats"
              class="text-xs px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded border border-gray-600"
              title="‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô 8 ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
            >
              Reset
            </button>
          </div>
        </section>

        <!-- Proficiencies -->
        <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg">
          <div class="flex items-center justify-between">
            <h3 class="text-lg font-semibold mb-4">üéí ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏ô‡∏±‡∏î & ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ</h3>
            <span class="text-xs text-green-400"
              >*‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏°‡∏≤:R ‡∏¢‡πà‡∏≠‡∏°‡∏≤‡∏à‡∏≤‡∏Å Race, C ‡∏¢‡πà‡∏≠‡∏°‡∏≤‡∏à‡∏≤‡∏Å Class ‡πÅ‡∏•‡∏∞ B ‡∏¢‡πà‡∏≠‡∏°‡∏≤‡∏à‡∏≤‡∏Å Background
            </span>
          </div>
          <div class="grid md:grid-cols-2 gap-4">
            <label class="block">
              <span class="text-sm text-gray-300">‡∏†‡∏≤‡∏©‡∏≤ (‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏°‡∏≤ R/C/B)</span>
              <textarea id="languages" rows="2" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Common (R), Elvish (R), Draconic (B)"></textarea>
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">Proficient Skills (‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏°‡∏≤ R/C/B)</span>
              <textarea id="skills" rows="2" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Perception (C), Athletics (B)"></textarea>
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">Proficient Tools (‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏°‡∏≤ R/C/B)</span>
              <textarea id="tools" rows="2" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Thieves' Tools (C)"></textarea>
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">Expertise (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
              <textarea id="expertise" rows="2" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Stealth (C), Perception (B)"></textarea>
            </label>
            <label class="block md:col-span-2">
              <span class="text-sm text-gray-300">Feat (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
              <input type="text" id="feat" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô War Caster (R)" />
            </label>
            <label class="block md:col-span-2">
              <span class="text-sm text-gray-300">‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏≤‡∏™ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
              <textarea id="classOptions" rows="2" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Fighting Style: Defense (C)"></textarea>
            </label>
          </div>
        </section>

        <!-- Cantrips & Spells -->
        <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg">
          <h3 class="text-lg font-semibold mb-4">ü™Ñ Cantrips & Spells (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</h3>
          <div class="grid md:grid-cols-3 gap-4">
            <label class="block">
              <span class="text-sm text-gray-300">Cantrips</span>
              <textarea id="cantrips" rows="3" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Fire Bolt, Guidance, Minor Illusion"></textarea>
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">Spells ‡∏£‡∏∞‡∏î‡∏±‡∏ö 1</span>
              <textarea id="spells1" rows="3" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Shield, Healing Word, Magic Missile"></textarea>
            </label>
            <label class="block">
              <span class="text-sm text-gray-300">Spells ‡∏£‡∏∞‡∏î‡∏±‡∏ö 2</span>
              <textarea id="spells2" rows="3" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡πÄ‡∏ä‡πà‡∏ô Misty Step, Aid, Scorching Ray"></textarea>
            </label>
          </div>
        </section>

        <!-- Platforms & Links -->
        <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg">
          <h3 class="text-lg font-semibold mb-4">üåê ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏° & ‡∏•‡∏¥‡∏á‡∏Å‡πå</h3>
          <div class="grid md:grid-cols-2 gap-4">
            <fieldset class="border border-fantasy-border rounded-xl p-3">
              <legend class="px-2 text-sm text-gray-300">‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</legend>
              <div class="flex flex-col gap-2 mt-2">
                <label class="inline-flex items-center gap-2"><input type="radio" name="platform" value="DnD Beyond" class="accent-fantasy-accent" checked /> DnD Beyond (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)</label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="platform" value="Dicecloud" class="accent-fantasy-accent" /> Dicecloud</label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="platform" value="G-sheet" class="accent-fantasy-accent" /> G-sheet</label>
              </div>
            </fieldset>

            <label class="block md:col-span-2">
              <span class="text-sm text-gray-300">Tracking Sheet Link</span>
              <input type="url" id="trackLink" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏ô‡∏≤ Character Tracking Sheet"/>
            </label>

            <label class="block md:col-span-2">
              <span class="text-sm text-gray-300">Character Sheet Link</span>
              <input type="url" id="sheetLink" class="mt-1 w-full rounded-xl border border-fantasy-border bg-[#0f172a] px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fantasy-accent" placeholder="‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ä‡∏µ‡∏ó‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ (DnD Beyond / Dicecloud / G-sheet)"/>
            </label>
          </div>
        </section>

        <!-- Actions -->
        <div class="flex flex-col sm:flex-row gap-3 sm:items-center">
          <button type="button" id="btnGenerate" class="inline-flex items-center justify-center rounded-xl bg-fantasy-accent px-4 py-2 font-semibold hover:opacity-90 active:scale-[.99] transition">Generate ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Discord</button>
          <button type="button" id="btnCopy" class="inline-flex items-center justify-center rounded-xl border border-fantasy-border px-4 py-2 font-medium hover:bg-white/5 transition">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
          <button type="reset" class="inline-flex items-center justify-center rounded-xl border border-fantasy-border px-4 py-2 font-medium hover:bg-white/5 transition">‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
          <span id="toast" class="hidden text-sm text-emerald-300">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚úÖ</span>
        </div>
      </form>

      <!-- Output -->
      <section class="rounded-2xl border border-fantasy-border bg-fantasy-panel p-5 md:p-6 shadow-lg mt-6">
        <h3 class="text-lg font-semibold mb-3">üßæ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Discord</h3>
        <span class="text-xs text-green-400">*‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ</span>
        <textarea id="output" rows="16" class="w-full rounded-xl border border-fantasy-border bg-[#0b1325] px-3 py-3 font-mono text-sm"></textarea>
        <p class="text-xs text-gray-400 mt-2">
          ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏≤/‡∏ö‡∏π‡∏•‡πÄ‡∏•‡πá‡∏ó‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô Discord
        </p>
      </section>
      <footer class="text-center text-gray-500 text-xs mt-8">
        &copy;üè∞ The Spire Market - aKittyCatüêà. All rights reserved.
      </footer>
    </div>

    <!-- Script -->
    <script>
      // ‡πÉ‡∏ä‡πâ corsproxy.io
      const PROXY_URL = 'https://corsproxy.io/?';

      // ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏ï‡πâ‡∏° 35 Point Buy
      const pointCosts = {
        8: 0, 9: 1, 10: 2, 11: 3,
        12: 4, 13: 5, 14: 7, 15: 9,
        16: 12, 17: 15, 18: 19
      };

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Total Points
      function updateTotalPoints() {
        const stats = ['str', 'dex', 'con', 'int', 'wis', 'cha'];
        let total = 0;
        stats.forEach(id => {
          const val = parseInt(document.getElementById(id).value) || 8;
          total += pointCosts[val] || 0;
        });
        document.getElementById('totalPoints').textContent = `Total Points: ${total}/35`;
      }

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤ Stat
      function increaseStat(id) {
        const input = document.getElementById(id);
        let value = parseInt(input.value);
        if (value >= 18) return;
        input.value = value + 1;
        updateTotalPoints();
      }

      // ‡∏•‡∏î‡∏Ñ‡πà‡∏≤ Stat
      function decreaseStat(id) {
        const input = document.getElementById(id);
        let value = parseInt(input.value);
        if (value <= 8) return;
        input.value = value - 1;
        updateTotalPoints();
      }

      // Reset ‡∏Ñ‡πà‡∏≤ Stat ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô 8
      function resetStats() {
        const stats = ['str', 'dex', 'con', 'int', 'wis', 'cha'];
        stats.forEach(id => {
          document.getElementById(id).value = 8;
        });
        updateTotalPoints();
      }

      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
      window.addEventListener('DOMContentLoaded', () => {
        updateTotalPoints();

        document.getElementById('resetStats').addEventListener('click', resetStats);
      });

      async function fetchCharacter() {
        const urlInput = document.getElementById("characterUrl").value.trim();
        const loading = document.getElementById("loading");
        const fetchBtn = document.getElementById("fetchBtn");

        if (!urlInput) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£");

        const match = urlInput.match(/\/characters\/(\d+)/);
        if (!match) return alert("URL ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö");

        const characterId = match[1];
        const apiUrl = `https://character-service.dndbeyond.com/character/v5/character/${characterId}`;
        const proxyUrl = `${PROXY_URL}${encodeURIComponent(apiUrl)}`;

        loading.classList.remove("hidden");
        fetchBtn.disabled = true;

        try {
          const res = await fetch(proxyUrl);
          if (!res.ok) throw new Error(`HTTP ${res.status}`);

          const json = await res.json();
          if (!json.success || !json.data) throw new Error("‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô Public");

          const c = json.data;

          // === ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢ ===
          const safeArray = arr => Array.isArray(arr) ? arr : [];
          const safeValue = (val, def = "") => val == null ? def : val;

          // === ‡∏î‡∏∂‡∏á Stat (id 1-6) ===
          const statMap = {};
          const statNames = { 1: "STR", 2: "DEX", 3: "CON", 4: "INT", 5: "WIS", 6: "CHA" };
          safeArray(c.stats).forEach(s => {
            const name = statNames[s.id];
            if (name) statMap[name] = s.value;
          });

          // === ‡∏Ñ‡∏•‡∏≤‡∏™‡∏´‡∏•‡∏±‡∏Å + ‡πÄ‡∏•‡πÄ‡∏ß‡∏• ===
          const primaryClass = safeArray(c.classes)
            .map(cl => `${cl.definition?.name} ${cl.level}`)
            .join(", ");

          // === ‡∏Ñ‡∏•‡∏≤‡∏™‡∏£‡∏≠‡∏á ===
          const multiclass = c.classes
            .map(cls => safeValue(cls?.subclassDefinition?.name, ""))
            .filter(name => name !== "")
            .join(", ");

          // === ‡πÄ‡∏ú‡πà‡∏≤ + ASI ===
          let asiText = "";
          const raceName = safeValue(c.race?.fullName || c.race?.baseRaceName, "-");

          // === Background ===
          const background = safeValue(c.background?.definition?.name, "");

          // === Feats (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏° Hero's Journey Boon, Dark Bargain) ===
          const blockedFeats = ["hero's journey boon", "dark bargain"];
          const feats = safeArray(c.feats)
            .map(f => f.definition?.name || "")
            .filter(name => !blockedFeats.includes(name.toLowerCase()))
            .join(", ") || "";

          // === Cantrips: ‡∏î‡∏∂‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ level: 0 ‡∏à‡∏≤‡∏Å c.classSpells ‚Üí definition ‚Üí name ===
          const cantrips = [];
          safeArray(c.classSpells).forEach(cs => {
            safeArray(cs.spells).forEach(spell => {
              if (spell.definition?.level === 0) {
                cantrips.push(spell.definition?.name || "N/A");
              }
            });
          });
          
          // === Spells ‡∏£‡∏∞‡∏î‡∏±‡∏ö 1 ===
          const spells1 = [];
          safeArray(c.classSpells).forEach(cs => {
            safeArray(cs.spells).forEach(spell => {
              if (spell.definition?.level === 1) {
                spells1.push(spell.definition?.name || "N/A");
              }
            });
          });

          // === Spells ‡∏£‡∏∞‡∏î‡∏±‡∏ö 2 ===
          const spells2 = [];
          safeArray(c.classSpells).forEach(cs => {
            safeArray(cs.spells).forEach(spell => {
              if (spell.definition?.level === 2) {
                spells2.push(spell.definition?.name || "N/A");
              }
            });
          });

          // === ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏° ===
          document.getElementById("name").value = safeValue(c.name);
          document.getElementById("primaryClass").value = primaryClass;
          document.getElementById("multiclass").value = multiclass;
          document.getElementById("raceAsi").value = raceName;
          document.getElementById("background").value = background;
          document.getElementById("feat").value = feats;
          document.getElementById("cantrips").value = cantrips.join("\n");
          document.getElementById("spells1").value = spells1.join("\n");
          document.getElementById("spells2").value = spells2.join("\n");

          // === Stat ===
          Object.entries(statMap).forEach(([key, val]) => {
            const el = document.getElementById(key.toLowerCase());
            if (el) el.value = val;
          });

          // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
          document.getElementById("sheetLink").value = c.readonlyUrl;

          // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Total Points ‡∏´‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
          updateTotalPoints();

        } catch (err) {
          console.error("Fetch Error:", err);
          alert("‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: " + (err.message || "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î"));
        } finally {
          loading.classList.add("hidden");
          fetchBtn.disabled = false;
        }
      }

      // === Logic ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Generate ‡πÅ‡∏•‡∏∞ Copy ===
      function val(id) { return (document.getElementById(id)?.value || "").trim(); }
      function num(id) { const v = document.getElementById(id)?.value; return v === "" ? "0" : String(Number(v)); }
      function radio(name) { const el = document.querySelector(`input[name="${name}"]:checked`); return el ? el.value : ""; }

      function composeDiscordText() {
        const lines = [
          `‡∏ä‡∏∑‡πà‡∏≠: ${val("name") || "-"}`,
          "",
          `‡∏Ñ‡∏•‡∏≤‡∏™‡∏´‡∏•‡∏±‡∏Å: ${val("primaryClass") || "-"}`,
          "",
          `‡∏Ñ‡∏•‡∏≤‡∏™‡∏£‡∏≠‡∏á: ${val("multiclass") || "-"}`,
          "",
          `‡πÄ‡∏ú‡πà‡∏≤‡πÅ‡∏•‡∏∞ ASI Bonus ‡∏à‡∏≤‡∏Å‡πÄ‡∏ú‡πà‡∏≤: ${val("raceAsi") || "-"}`,
          "",
          `Custom Lineage Trait: ${val("customLineage") || "-"}`,
          "",
          `Background: ${val("background") || "-"}`,
          "",
          `Stat ‡∏´‡∏•‡∏±‡∏Å: (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏° Bonus) ${num("str")} Str / ${num("dex")} Dex / ${num("con")} Con / ${num("int")} Int / ${num("wis")} Wis / ${num("cha")} Cha`,
          "",
          `‡∏†‡∏≤‡∏©‡∏≤: ${val("languages") || "-"}`,
          "",
          `Proficient Skills: ${val("skills") || "-"}`,
          "",
          `Proficient Tools: ${val("tools") || "-"}`,
          "",
          `Expertise: ${val("expertise") || "-"}`,
          "",
          `Feat: ${val("feat") || "-"}`,
          "",
          `‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏•‡∏≤‡∏™: ${val("classOptions") || "-"}`,
          "",
          `Cantrips:\n${val("cantrips") || "-"}`,
          "",
          `Spells ‡∏£‡∏∞‡∏î‡∏±‡∏ö 1:\n${val("spells1") || "-"}`,
          "",
          `Spells ‡∏£‡∏∞‡∏î‡∏±‡∏ö 2:\n${val("spells2") || "-"}`,
          "",
          `Tracking Sheet Link: ${val("trackLink") || "-"}`,
          `Character Sheet Link (${radio("platform")}): ${val("sheetLink") || "-"}`
        ];
        return lines.join("\n");
      }

      document.getElementById("btnGenerate").addEventListener("click", () => {
        document.getElementById("output").value = composeDiscordText();
      });

      document.getElementById("btnCopy").addEventListener("click", async () => {
        const out = document.getElementById("output");
        if (!out.value.trim()) out.value = composeDiscordText();
        try {
          await navigator.clipboard.writeText(out.value);
          const t = document.getElementById("toast");
          t.classList.remove("hidden");
          setTimeout(() => t.classList.add("hidden"), 1600);
        } catch (e) {
          alert("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á");
        }
      });

      // Persist
      const persistIds = ["name", "primaryClass", "multiclass", "raceAsi", "customLineage", "background", "str", "dex", "con", "int", "wis", "cha", "languages", "skills", "tools", "expertise", "feat", "classOptions", "cantrips", "spells1", "spells2", "trackLink", "sheetLink"];
      window.addEventListener("DOMContentLoaded", () => {
        persistIds.forEach(id => {
          const saved = localStorage.getItem("dcc_" + id);
          if (saved) document.getElementById(id).value = saved;
        });
        const p = localStorage.getItem("dcc_platform");
        if (p) document.querySelector(`input[name="platform"][value="${p}"]`)?.setAttribute("checked", "");
      });
      document.addEventListener("input", e => {
        if (persistIds.includes(e.target.id)) localStorage.setItem("dcc_" + e.target.id, e.target.value);
        if (e.target.name === "platform") localStorage.setItem("dcc_platform", e.target.value);
      });
    </script>
  </body>
</html>